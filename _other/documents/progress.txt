── Partially Done ─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────

  * Tech Stack (React, Nextjs, Tailwind, Prisma, Postgres, Git)
      # Docker

  * Overall Design decisions

  * Login
      # Strengthen
      # Two Factor
      # Pen

  * General Layout
      -> SideBar
      -> Organization Switcher
      -> Top Menu
      -> Action Icons
          --> New Messages notification
          --> Refresh
      -> Theme (Light/Dark) Switcher.

  * PAGE: Organization Maintanence
      -> New Organization PopUp (Name, Description) => Audit Event
      -> Details : Name, Description (View / Edit => Audit Event)
      -> Settings (View / Edit => Audit Event) :: Upload Directory, Download Directory, Asset Directory
      -> Profiles
          --> Add / Remove Profiles from Organization => Audit Event
          --> Edit Profiles (Name, Description) => Audit Event
      -> Tasks
          --> Add / Remove Tasks from Organization => Audit Event
          --> Edit Tasks (Name, Description) => Audit Event
      -> Audit Trail (View)
      -> Actions (Delete => Audit Event)

  * PAGE: Profile Maintanence
      -> New Profile PopUp (Profile Name, Description + Login Information: Email, Password, Login Name, Nickename, Role) => Audit Event
      -> Details : Name Description (View / Edit => Audit Event)
      -> Login : Login Name, Email, Password, Nickname, Role (View / Edit => Audit Event)
          --> Email: Checked for validity, availability
          --> Password: Verified for strength
      -> Tasks
          --> Add / Remove Tasks from Profile => Audit Event
          --> Edit Tasks (Name, Description) => Audit Event
      -> Audit Trail (View)
      -> Actions (Delete => Audit Event)

  * PAGE: Task Maintanence
      -> New Task PopUp (Task Name, Description, Expected Evidence, Start Date, End Date, Status) => Audit Event
      -> Messages
          --> New Message
          --> Edit message (own only)
          --> Delete messages
      -> Details (Task Name, Description, Expected Evidence, Start Date, End Date, Status) (View / Edit => Audit Event)
      -> Profiles
          --> Add / Remove Profiles from Task => Audit Event
          --> Edit Profiles (Name, Description) => Audit Event
      -> Artifacts (Assets)
          --> Remove Artifact from Task => Audit Event
          --> Edit Artifact (Name, Description) => Audit Event
      -> Audit Trail (View)
      -> Actions (Delete => Audit Event)

      # Empty / Link New Task
      # Direct to Incomming Files / Upload Files
      # Attach Task to Safeguard(s)

  * PAGE: Asset (Artifact) Maintanence
      # Download Asset
      # Preview Asset

  * PAGE: Incomming Files -> Assets
      # Preview
      # S3
      # MinIO
      # Localstack

  * PAGE: Messages
      -> View +Delete Message

  * PAGE: Audit Trail

  * PAGE: Application Setup (SUPER ADMIN)
      -> View Edit (Application Name, Home Directory, Polling Interval)

  * PAGE: Profile Setup (partially)
      # CC Setup (Super Admins)
        ## Home Directory
        ## FTP/SFTP Logins
      # Profile Setup


── Small Fixes / Errors ─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────

  ── To Do:
  * ARTIFACT: Move delete button from master table to action tab in detail pane (too dangerous to have it in the master table).
  * Clean up colour schemas (globals.css)

  ── Fixed:
  * New Profile button on Profile page is not "default" style
  * New Artifact button on Artifact page is not "default" style
  * Audit badges on Profile page: wrong colours

── Not Started ─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────

  * PAGE: Home / Dashboard
      # Dashboard should show information for all Organizations available to the logged in user. Unlike all other pages which are Organization specific.
      # Tasks
      # Messages
  * PAGE: Upload Files (Drag & Drop)
  * PAGE: Reports
      -> Status Reports
      -> Progress Reports
  * PAGE: Mechanical Turk (automatization setup)
      -> fetch files from external SFTP / S3, etc.
  * Documentstion
      -> PAGE: Wheel (Wheel & Safeguards)
      -> PAGE: Academy (General dictionary, ..)
      -> PAGE: AI (ask anything related to CC)
      -> Learn More
        -> PAGE: About Compliance Circle
        -> PAGE: Privacy Policy
        -> PAGE: Terms of Service
  * Debug Console (Super Admin)
  * Log Viewer (Super Admin)


── Worked On ─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────

────────────────────
── Thursday 12 Feb
* Overall Design
  -> Sitewise unified look&feel for all buttons/tables/etc.
    --> Work in Dark/Light Themes.
    --> Page: Tasks
  -> Better Status Badge colours/design.
  -> Sidebar restyle

────────────────────
── Friday 13 Feb
* Claude Code, startup
* Overall Design
  -> Sitewise unified look&feel for all buttons/tables/etc.
    --> Work in Dark/Light Themes.
    --> Page: Assets
    --> Page: Otganizations
    --> Page: Profile
    --> Page: Incomming Files
  -> Better Assets Type Badge colours/design.
  -> Better User Role Badge colours/design.
  -> Page Header + restyled & rearranged "Select Organization" (from Top Bar => Side Menu)
* Page header: Action Icons
  --> Refresh Action
    --> Page: Incomming Files
    --> Page: Organizations
    --> Page: Profile
    --> Page: Artifact
    --> Page: Task
  --> Notification Action
* Fixed GIT
* Messages: Database + Prisma.
* Messages: extended Task page with new message tab.

────────────────────
── Saturday 14 Feb
* Task Page : Added pagination to Messages, Assets, Profiles
* Task Page + Top Menu bar : Show new messages,
* Task Page : When clicking a message, open in a pop up
* Periodic refresh (messages, files, etc) 
* Application Settings: New Page
* Database: table and functionality for Event (Audit Trail)
* Page Task : Added tabs in detail view for Audit Trail & Actions
* Page Task : Moved delete button from overview table to detail view.
* Page Task : Added button and functionality to add Profile to Task
* Page Task : Redesigned tabs - more room.
* Audit Trail Importance in database.
* Page Task : Message Popup: maximum height
* Page Task : Implemented Audit Events.
* Reworked Periodic refresh
* Page Organization : Added Audit Trail & Action tabs
* Page Organization : Moved delete functionality from master table to detail view.
* Page Organization : Implemented Audit Events.
* Page Profile : Added Audit Trail & Action tabs


────────────────────
── Sunday 15 Feb
* Fixed pagniation elements being selectable on all pages (minor design improvement)
* Fixed Organization save Error.
* Added events to Profile
* Added some more events to Organization
* Fixed error when saving changing to a Profile
* Page: Messages. Created new page to display all messages.
* Page Task: Created button and functionality to create new messages.
* Page Task: Added edit and delete to message popups.
* Page: Audit Trail. Created new page to display all Audit Event.

----------
The Events table should also have an "importance" column, with values: LOW, MIDDLE, HIGH. Which should also be included in the Audit Trail table.


------------------------------------------------------------------------------------------------------------------------------------------------------

* On the Organization Page. When editing a Profile (Profile Name, Description) it should generate an Audit Event, same as if the Profile had been updated from the Profile page. Same as with the Task (Name, Description) being updated. => Task Audit Event.

* On the Profile Page. When editing a Task (Name, Description) it should generate an Audit Event, same as if the Task had been updated from the Task page.

* On the Profile Page. When removing an artifact from the Task => generate an Audit Event (importance: MIDDLE) and when editing an Artifact (Name, Description) it should generate an Audit Event, same as if the Artifact had been updated from the Artifact page.

* On the Artifact Page. 
there should be two additional tab to the rightmost: Audit Trail and Actions.
The action tab should have a delete button. The functionality taken from the delete button on the overview table. And the delete icon (as well as the edit icon) removed from the overview table.
This is the same as on the Task page.

* On the Artifact Page Editing "Artifact Name", "Description", and "Artifact Type" and "MIME Type" should generate events of LOW importance.

* Editing an Artifact (name, description, type) generates an error:
    Runtime TypeError

    Cannot read properties of undefined (reading 'name')
    src/app/(authorized)/asset/page.tsx (538:16) @ <unknown>


      536 |
      537 |     const filteredArtifacts = artifacts.filter(artifact =>
    > 538 |       artifact.name.toLowerCase().includes(filterText.toLowerCase()) ||
          |                ^
      539 |       artifact.id.toString().includes(filterText)
      540 |     );


* On the Artifact Page. When editing a Task (Name, Description) it should generate an Audit Event, same as if the Task had been updated from the Task page.

* On the Artifact Page. The should be a button on the Task tab, to add a Task to an artifact. It should look about the same as the Add Profile button/pop up on the Tasks page under the Profiles tab. I.e., a search tasks input, and a list of all available tasks to select from. 

* On the Artifact Page. The Action tab should have a button: Download Asset. Clicking on this should download the asset file to the local computer.

* On the Artifact Page. The Action tab should have a button: Preview Asset. Clicking on this should generate functionality depending on the asset type.
  **) if an image, open the image in a new tab.

* On the Sidebar Menu. Clicking on New Task, should open the same popup/functionality as clicking on the button New Task on the Task page.

* The Sidebar Menu is no longer being minimzed correctly. When minimized the Compliance Circle logo on the top should be displayed.


────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────

-------










I added this to the Schema:

enum EventImportance {
    LOW
    MIDDLE
    HIGH
}

and 
column
    importance          Int?
to the event table.
If everything ok, make changes to the database

------------------------------------------------------------------------------------------------------------------------------------------------------
On the Task page,
The popup modal when a message is clicked on should have a maxium height. It becomes unmangable if the message is very long.

------------------------------------------------------------------------------------------------------------------------------------------------------

Can we start to generate some events.

On the Task page, under "Details" when Task Name is changed it should generate an event: LOW importance, message: "Task name changed"
Same with Description & Expected Evidence
Same with Start Date/End Date, but MIDDLE importance
Same with Status, but HIGH importance

When a Profile is added/removed from the Task, HIGH importance
When an Artifact is added/removed, MIDDLE importance

------------------------------------------------------------------------------------------------------------------------------------------------------

The periodic refresh (  // Periodic refresh - automatically fetch new data based on settings), refreshes the whole screen. This is quite irritating. It should only refresh if there are changes, and preferable only change the things that need to be changed. E.g, the Bell icon for new messages, the message table under Tasks for new messages. 

------------------------------------------------------------------------------------------------------------------------------------------------------

On the Organization page: there should be an additional tab to rightmost called: Actions.
The action tab should have a delete button. The functionality taken from the delete button on the overview table. And the delete icon (as well as the edit icon) removed from the overview table.
This is the same as on the Task page.

------------------------------------------------------------------------------------------------------------------------------------------------------

Also add an "Audit Trail" - same as on the Task page.

------------------------------------------------------------------------------------------------------------------------------------------------------

On the Organization page

"Details" when Organization Name is changed it should generate an event: LOW importance, message: "Organization name changed"
Same with Description
Same with Upload Directory, Download Directory, Artifact Directory under Settings.
When a Profile is added/removed from the Organization, HIGH importance
When an Task is added/removed, MIDDLE importance
When a new Organization is created, HIGH importance

------------------------------------------------------------------------------------------------------------------------------------------------------


On the Profile page: there should be an additional tab to rightmost called: Actions.
The action tab should have a delete button. The functionality taken from the delete button on the overview table. And the delete icon (as well as the edit icon) removed from the overview table.
This is the same as on the Task page.

Also add an "Audit Trail" - same as on the Task page.

------------------------------------------------------------------------------------------------------------------------------------------------------

I get an error: "Could not delete organization" when trying to delete an Organization

------------------------------------------------------------------------------------------------------------------------------------------------------

The pagination elements (< Previous, 1,2,3,4,, Next >) should be non-selectable (select-none) Both on the Organization page, and on the Task page and everywhere else

------------------------------------------------------------------------------------------------------------------------------------------------------


An error:
I get an error: "Could not delete organization" when trying to delete an Organization


On the Profile page

When a profile is created/deleted: -> Event with HIGH importance

Profile Name, Description, Login Name, Email, Nickname: Event of LOW importance
Role: Event of HIGH importance

------------------------------------------------------------------------------------------------------------------------------------------------------

-- HERETO
-- HERETO
-- HERETO
-- HERETO

------------------------------------------------------------------------------------------------------------------------------------------------------

And New Events:

On the Organization page

When an Organization is created/deleted: -> Event with HIGH importance

------------------------------------------------------------------------------------------------------------------------------------------------------

Create a new page for displaying messages. It should have a table to display the messages.

The table should have the messages, the tasks (name) they belong to, and the sender profile (name). Clicking on the message pops-up a modal to display the full message. Like on the Task oage, The popup should also have a delete button for deleting the message, The table should have pagination and search.

The page is accessible by clicking on the messages sidebar menu item.

------------------------------------------------------------------------------------------------------------------------------------------------------

Task Page: 
1) The Message tab should have a button to create a new message. It should open a pop-up where the message can be written. With cancel/Save Changes buttons.

2) When clicking on messages on the list, the pop-up should have a delete button, to delete (active=false) the message.

3) It should also be able to edit ones own messages in the popup.

------------------------------------------------------------------------------------------------------------------------------------------------------

Create a new page for displaying audit events. It should have a table to display the event message.

The table should have the event messages. The user who initiated the event. And the task,organization,profile, or artifact the event is attached to.

It should not be possible to edit or delete events. But there should be a button to redirect to the page displaying the task,organization,profile, or artifact. The table should have pagination and search.

The page is accessible by clicking on a sidebar menu item "Audit Trail" which should be below the Messages sidebar menuitem.







Profile AUditr trail colors


  * PAGE: Messages (for overall list of all messages across Tasks - Task page still lacks messages)
  * PAGE: Reports
      -> Status Reports
      -> Progress Reports
  * PAGE: Audit Trail